<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8" />
	<link rel="apple-touch-icon" sizes="76x76" href="./assets/img/favicon.ico">
	<link rel="icon" type="image/png" href="./assets/img/favicon.ico">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
	<title>Traveler</title>
	<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no'
		name='viewport' />
	<!-- Google Font -->
	<link href="https://fonts.googleapis.com/css?family=Playfair+Display:400,700|Source+Sans+Pro:400,600,700"
		rel="stylesheet">
	<!-- Font Awesome Icons -->
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css"
		integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
	<!-- Main CSS -->
	<link href="./assets/css/main.css" rel="stylesheet" />
	<script src="./assets/js/api.js"></script>
</head>

<body>

	<nav class="topnav navbar navbar-expand-lg navbar-light bg-white fixed-top">
		<div class="container">
			<a class="navbar-brand" href="./index.html"><strong>Traveler</strong></a>
			<button class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#navbarColor02"
				aria-controls="navbarColor02" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="navbar-collapse collapse" id="navbarColor02">
				<ul class="navbar-nav mr-auto d-flex align-items-center">
					<li class="nav-item">
						<a class="nav-link" href="./index.html">Home</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="./recommend.html">Recommend</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="./diary.html">Journey Diary</a>
					</li>
					<li class="nav-item">
						<select>
							  <option>石河子大学</option>
							  <option>青岛大学</option>
							  <option>厦门大学</option>
							  <option>北京邮电大学（海淀校区）</option>
							  <option selected>北京邮电大学（沙河校区）</option>
						</select>
					</li>
				</ul>
				<ul class="navbar-nav ml-auto d-flex align-items-center">

					<li class="nav-item highlight mx-3">
						<a class="nav-link" href="./login.html">Sign in</a>
					</li>
					<li class="nav-item highlight">
						<a class="nav-link" href="./register.html">Sign up</a>
					</li>
				</ul>
				<a class="nav-link" id="userInfo" href="./user_info.html">
					<img class="rounded-circle shadow" src="assets/img/demo/avatar2.jpg" width="20">
					<span id="Name">BUPT</span>
				</a>
			</div>
		</div>
	</nav>

	<div class="container">
		<div class="jumbotron jumbotron-fluid mb-3 pt-0 pb-0 bg-lightblue position-relative">
			<div class="pl-4 pr-0 h-100 tofront">
				<div class="row justify-content-between">
					<div class="col-md-6 pt-6 pb-6 align-self-center">
						<h1 class="secondfont mb-3 font-weight-bold">Hello, <br> Esteemed Travelers！</h1>
						<p class="mb-3">
							Welcome to the official website of Travelers. Here, we can recommend beautiful attractions
							and high-quality routes to you, and you can also become our member. We will regularly push
							you the latest travel itinerary reports！
						</p>
						<a href="recommend_show.html" class="btn btn-dark">Read More</a>
					</div>
					<div class="col-md-6 d-none d-md-block pr-0"
						style="background-size:cover;background-image:url(./assets/img/demo/home.jpg);"> </div>
				</div>
			</div>
		</div>
	</div>


	<div class="container pt-4 pb-4">
		<div class="row">
			<div class="col-lg-6">
				<div class="card border-0 mb-4 box-shadow h-xl-300">
					<div
						style="background-image: url(./assets/img/demo/1.jpg); height: 150px;    background-size: cover;    background-repeat: no-repeat;">
					</div>
					<div class="card-body px-0 pb-0 d-flex flex-column align-items-start">
						<h2 class="h4 font-weight-bold">
							<a class="text-dark" href="recommend_show.html" id="article-title-0">Brain Stimulation Relieves Depression
								Symptoms</a>
						</h2>
						<p class="card-text" id="article-desc-0">
							Researchers have found an effective target in the brain for electrical stimulation to
							improve mood in people suffering from depression.
						</p>
						<div>
							<small class="d-block"><a class="text-muted" href="#" id="article-author-0">Favid Rick</a></small>
							<small class="text-muted" id="article-time-0">Dec 12 &middot; 5 min read</small>
						</div>
					</div>
				</div>
			</div>
			<div class="col-lg-6">
				<div class="flex-md-row mb-4 box-shadow h-xl-300">
					<div class="mb-3 d-flex align-items-center">
						<img height="80" src="./assets/img/demo/blog4.jpg">
						<div class="pl-3">
							<h2 class="mb-2 h6 font-weight-bold">
								<a class="text-dark" href="recommend_show.html" id="article-title-1">Nasa's IceSat space laser makes
									height
									maps
									of Earth</a>
							</h2>
							<div class="card-text text-muted small" id="article-author-1">
								Jake Bittle in LOVE/HATE
							</div>
							<small class="text-muted" id="article-time-1">Dec 12 &middot; 5 min read</small>
						</div>
					</div>
					<div class="mb-3 d-flex align-items-center">
						<img height="80" src="./assets/img/demo/blog5.jpg">
						<div class="pl-3">
							<h2 class="mb-2 h6 font-weight-bold">
								<a class="text-dark" href="recommend_show.html" id="article-title-2">Nasa's IceSat space laser makes
									height
									maps
									of Earth</a>
							</h2>
							<div class="card-text text-muted small" id="article-author-2">
								Jake Bittle in LOVE/HATE
							</div>
							<small class="text-muted" id="article-time-2">Dec 12 &middot; 5 min read</small>
						</div>
					</div>
					<div class="mb-3 d-flex align-items-center">
						<img height="80" src="./assets/img/demo/blog6.jpg">
						<div class="pl-3">
							<h2 class="mb-2 h6 font-weight-bold">
								<a class="text-dark" href="recommend_show.html" id="article-title-3">Nasa's IceSat space laser makes
									height
									maps
									of Earth</a>
							</h2>
							<div class="card-text text-muted small" id="article-author-3">
								Jake Bittle in LOVE/HATE
							</div>
							<small class="text-muted" id="article-time-3">Dec 12 &middot; 5 min read</small>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<div class="container">
		<div class="row justify-content-between">
			<div class="col-md-8">
				<h5 class="font-weight-bold spanborder"><span>All Stories</span></h5>
				<div class="mb-3 d-flex justify-content-between">
					<div class="pr-3">
						<h2 class="mb-1 h4 font-weight-bold">
							<a class="text-dark" href="recommend_show.html" id="article-title-4">Nearly 200 Great Barrier Reef coral
								species
								also
								live in the deep sea</a>
						</h2>
						<p id="article-desc-4">
							There are more coral species lurking in the deep ocean that previously thought.
						</p>
						<div class="card-text text-muted small" id="article-author-4">
							xiaosan in TRAVELER
						</div>
						<small class="text-muted" id="article-time-4">Dec 12 &middot; 5 min read</small>
					</div>
					<img height="120" src="./assets/img/demo/blog8.jpg">
				</div>
				<div class="mb-3 d-flex justify-content-between">
					<div class="pr-3">
						<h2 class="mb-1 h4 font-weight-bold">
							<a class="text-dark" href="recommend_show.html" id="article-title-5">Nearly 200 Great Barrier Reef coral
								species
								also
								live in the deep sea</a>
						</h2>
						<p id="article-desc-5">
							There are more coral species lurking in the deep ocean that previously thought.
						</p>
						<div class="card-text text-muted small" id="article-author-5">
							xiaosan in TRAVELER
						</div>
						<small class="text-muted" id="article-time-5">Dec 12 &middot; 5 min read</small>
					</div>
					<img height="120" src="./assets/img/demo/1.jpg">
				</div>
				<div class="mb-3 d-flex justify-content-between">
					<div class="pr-3">
						<h2 class="mb-1 h4 font-weight-bold">
							<a class="text-dark" href="recommend_show.html" id="article-title-6">Nearly 200 Great Barrier Reef coral
								species
								also
								live in the deep sea</a>
						</h2>
						<p id="article-desc-6">
							There are more coral species lurking in the deep ocean that previously thought.
						</p>
						<div class="card-text text-muted small" id="article-author-6">
							xiaosan in TRAVELER
						</div>
						<small class="text-muted" id="article-time-6">Dec 12 &middot; 5 min read</small>
					</div>
					<img height="120" src="./assets/img/demo/5.jpg">
				</div>
			</div>
			<div class="col-md-4 pl-4">
				<h5 class="font-weight-bold spanborder"><span>Popular</span></h5>
				<ol class="list-featured">
					<li>
						<span>
							<h6 class="font-weight-bold">
								<a href="diary_show.html" class="text-dark" id="article-title-7"></a>
							</h6>
							<p class="text-muted" id="article-author-7"></p>
						</span>
					</li>
					<li>
						<span>
							<h6 class="font-weight-bold">
								<a href="diary_show.html" class="text-dark" id="article-title-8"></a>
							</h6>
							<p class="text-muted" id="article-author-8"></p>
						</span>
					</li>
					<li>
						<span>
							<h6 class="font-weight-bold">
								<a href="diary_show.html" class="text-dark" id="article-title-9"></a>
							</h6>
							<p class="text-muted" id="article-author-9"></p>
						</span>
					</li>
					<li>
						<span>
							<h6 class="font-weight-bold">
								<a href="diary_show.html" class="text-dark" id="article-title-10"></a>
							</h6>
							<p class="text-muted" id="article-author-10"></p>
						</span>
					</li>
				</ol>
			</div>
		</div>
	</div>


	<div class="container mt-5">
		<footer class="bg-white border-top p-3 text-muted small">
			<div class="row align-items-center justify-content-between">
				<div>
					<span class="navbar-brand mr-2"><strong>Traveler</strong></span> Copyright &copy;
					<script>document.write(new Date().getFullYear())</script>
					. All rights reserved.
				</div>
				<div>
					Made with <a target="_blank" class="text-secondary font-weight-bold" href="./login.html"> Theme</a>
					by
					xiaosan.com.
				</div>
			</div>
		</footer>
	</div>

	<script src="./assets/js/vendor/jquery.min.js"></script>
	<script src="./assets/js/vendor/popper.min.js"></script>
	<script src="./assets/js/vendor/bootstrap.min.js"></script>
	<script src="./assets/js/functions.js"></script>
	<script src="./assets/js/xhr.js"></script>
	<script>
		window.onload = function () {
			$.ajax({
				url: `${baseUrl}/api/map/fine`,
				type: 'GET',
				dataType: 'json',
				success: function (data) {
					// Check if we have at least 4 articles
					for (let i = 0; i < 4; i++) {
						$(`#article-title-${i}`).text(data[i].Name);
						$(`#article-title-${i}`).attr('href', `recommend_show.html?id=${data[i].Id}`);
						$(`#article-author-${i}`).text(data[i].Tags);
						$(`#article-desc-${i}`).text(data[i].Summary);
						$(`#article-time-${i}`).text(data[i].rate);
					}

				},
				error: function (xhr, status, error) {
					console.error('Error fetching data:', error);
				}
			});
			$.ajax({
				url: `${baseUrl}/api/article/recommend`,
				type: 'GET',
				dataType: 'json',
				success: function (data) {
					// Check if we have at least 4 articles
					for (let i = 0; i < 3; i++) {
						$(`#article-title-${i + 4}`).text(data[i].title);
						$(`#article-title-${i + 4}`).attr('href', `diary_show.html?id=${data[i].id}`);
						$(`#article-author-${i + 4}`).text(data[i].author);
						$(`#article-desc-${i + 4}`).text(data[i].summary);
						$(`#article-time-${i + 4}`).text(new Date(data[i].UpdatedAt).toLocaleString());
					}

				},
				error: function (xhr, status, error) {
					console.error('Error fetching data:', error);
				}
			});
			$.ajax({
				url: `${baseUrl}/api/article/fine`,
				type: 'GET',
				dataType: 'json',
				success: function (data) {
					// Check if we have at least 4 articles
					if (data.length >= 4) {
						// Update the HTML with the fetched data
						for (let i = 0; i < 4; i++) {
							$(`#article-title-${i + 7}`).text(data[i].title);
							$(`#article-title-${i + 7}`).attr('href', `diary_show.html?id=${data[i].id}`);
							$(`#article-author-${i + 7}`).text(data[i].author);
						}
					} else {
						console.error('Not enough articles returned from API');
					}
				},
				error: function (xhr, status, error) {
					console.error('Error fetching data:', error);
				}
			});
		}
	</script>
</body>

</html>